# Blog Application

## Описание

Это приложение для публикации постов и комментариев. Пользователи могут регистрироваться, создавать посты и оставлять комментарии. Администратор имеет доступ к управлению пользователями, постами и комментариями.

### Функциональность:
- Пользователи могут создавать посты и комментарии.
- Администратор управляет пользователями, постами и комментариями.
- Настроены права доступа в соответствии с ролями (администратор/пользователь).
- Добавлены валидаторы для паролей и email, проверка возраста для создания поста.
- Админ-панель содержит ссылку на автора поста и фильтр по дате создания поста.

## Технологии

- **Python** 3.8+
- **Django** 3+
- **Django Rest Framework** 3.10+
- **PostgreSQL** 10+
- **Docker** (опционально для локальной разработки)

## Установка

### 1. Клонирование репозитория

```bash
git clone https://github.com/your-repo/blog-app.git
cd blog-app

2. Установка зависимостей
Рекомендуется использовать виртуальное окружение:

bash
Копировать код
python3 -m venv venv
source venv/bin/activate

Установите зависимости:

bash
Копировать код
pip install -r requirements.txt
3. Настройка базы данных
Приложение использует PostgreSQL в качестве базы данных. Убедитесь, что PostgreSQL установлен и настроен.

Создайте базу данных и пользователя в PostgreSQL:

sql
Копировать код
CREATE DATABASE blog_app_db;
CREATE USER blog_app_user WITH PASSWORD 'yourpassword';
ALTER ROLE blog_app_user SET client_encoding TO 'utf8';
ALTER ROLE blog_app_user SET default_transaction_isolation TO 'read committed';
ALTER ROLE blog_app_user SET timezone TO 'UTC';
GRANT ALL PRIVILEGES ON DATABASE blog_app_db TO blog_app_user;
Затем в файле settings.py настройте подключение к базе данных:

python
Копировать код
DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.postgresql',
        'NAME': 'blog_app_db',
        'USER': 'blog_app_user',
        'PASSWORD': 'yourpassword',
        'HOST': 'localhost',
        'PORT': '5432',
    }
}
4. Выполнение миграций
После настройки базы данных выполните миграции:

bash
Копировать код
python manage.py makemigrations
python manage.py migrate
5. Создание суперпользователя
Для доступа к админ-панели создайте суперпользователя:

bash
Копировать код
python manage.py createsuperuser
6. Запуск сервера разработки
Запустите сервер разработки:

bash
Копировать код
python manage.py runserver
Теперь приложение доступно по адресу: http://127.0.0.1:8000/.

Использование API
Регистрация пользователя
Чтобы зарегистрировать нового пользователя, отправьте POST запрос на эндпоинт /users/ с телом запроса:

json
Копировать код
{
  "username": "your_username",
  "password": "your_password",
  "email": "your_email@mail.ru",
  "phone_number": "+79001112233",
  "birth_date": "2000-01-01"
}
Аутентификация пользователя
Для работы с API необходимо пройти аутентификацию. Получите токен, отправив POST запрос на эндпоинт /api/token/ с телом запроса:

json
Копировать код
{
  "username": "your_username",
  "password": "your_password"
}
В ответе вы получите access и refresh токены. Используйте access токен для авторизации при выполнении запросов к защищённым эндпоинтам:

bash
Копировать код
Authorization: Bearer your_access_token
Работа с постами
Создание поста (только авторизованные пользователи):

Отправьте POST запрос на /posts/ с телом запроса:

json
Копировать код
{
  "title": "Мой первый пост",
  "text": "Это текст моего первого поста."
}
Просмотр всех постов (доступно всем):

Отправьте GET запрос на /posts/.

Просмотр конкретного поста:

Отправьте GET запрос на /posts/{id}/, где {id} — это ID поста.

Обновление поста (только автор или администратор):

Отправьте PUT или PATCH запрос на /posts/{id}/ с телом запроса:

json
Копировать код
{
  "title": "Обновлённый заголовок",
  "text": "Обновлённый текст поста."
}
Удаление поста (только автор или администратор):

Отправьте DELETE запрос на /posts/{id}/.

Работа с комментариями
Создание комментария (только авторизованные пользователи):

Отправьте POST запрос на /comments/ с телом запроса:

json
Копировать код
{
  "post": 1,
  "text": "Это мой комментарий к посту."
}
Просмотр всех комментариев:

Отправьте GET запрос на /comments/.

Просмотр конкретного комментария:

Отправьте GET запрос на /comments/{id}/, где {id} — это ID комментария.

Обновление комментария (только автор комментария или администратор):

Отправьте PUT или PATCH запрос на /comments/{id}/ с телом запроса:

json
Копировать код
{
  "text": "Обновлённый текст комментария."
}
Удаление комментария (только автор комментария или администратор):

Отправьте DELETE запрос на /comments/{id}/.

Админ-панель
Админ-панель доступна по адресу /admin/. Для входа используйте учетные данные суперпользователя, созданные на этапе настройки.

Тестирование
Запустите тесты для проверки корректности работы приложения:

bash
Копировать код
python manage.py test